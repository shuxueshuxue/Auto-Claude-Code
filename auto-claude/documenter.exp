#!/usr/bin/expect -f

set timeout 60
log_user 1

spawn claude --dangerously-skip-permissions

sleep 7
send "2"
puts "Entered Claude Code!"
sleep 4

puts "=== Starting task 1 ==="
send "Go read the documents in the team folder. You are the documenter. Your role is to organize folder structures, create backup checkpoints, and clean redundant files. You should: 1) Maintain clean and logical folder organization, 2) Create backups before major changes, 3) Remove duplicate or unnecessary files, 4) Document the structure in appropriate places. Also assist the tester if they exist by organizing test files and results."
sleep 1
send "\r"
sleep 1
send "\r"
puts "Continue per 60 seconds..."

expect timeout

for {set i 2} {$i <= 100} {incr i} {
    puts "=== Continue ==="
    send "continue"
    sleep 1
    send "\r"
    puts "Continue per 60 seconds..."
    expect timeout
}

puts "=== All done! ==="
send "exit"
sleep 1
send "\r"
expect eof